#!/usr/bin/env bash

function paste() {
    if [ -e /dev/clipboard ]; then
        cat /dev/clipboard
    else
        pbpaste
    fi
}

function copy() {
    if env | grep --quiet -F SSH_TTY; then
        nc localhost 5556
    elif [ -e /dev/clipboard ]; then
        cat >/dev/clipboard
    else
        pbcopy
    fi
}

test -t 0 && paste || copy
